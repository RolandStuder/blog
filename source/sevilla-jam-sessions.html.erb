---
title: "Sevilla Jam Sessions"
layout: layout
---

<style>
.venue-grid {
  display: grid;
  gap: 1rem;
  margin: 2rem 0;
}

.venue-card {
  border: 1px solid #ddd;
  border-radius: 8px;
  overflow: hidden;
}

.venue-summary {
  padding: 1rem;
  cursor: pointer;
  background: #f9f9f9;
  border: none;
  width: 100%;
  text-align: left;
  font-size: 1rem;
}

.venue-summary:hover {
  background: #f0f0f0;
}

.venue-summary h3 {
  margin: 0 0 0.5rem 0;
  color: #333;
}

.venue-quick-info {
  font-size: 0.9rem;
  color: #666;
  margin: 0;
}

.venue-details {
  padding: 1rem;
  border-top: 1px solid #eee;
  background: white;
}

.venue-meta {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 0.5rem 1rem;
  margin-bottom: 1rem;
  font-size: 0.9rem;
}

.venue-meta dt {
  font-weight: bold;
  color: #555;
}

.venue-meta dd {
  margin: 0;
  color: #333;
}

.venue-content {
  line-height: 1.6;
  color: #444;
}

.confidence-high { border-left: 4px solid #28a745; }
.confidence-medium { border-left: 4px solid #ffc107; }
.confidence-low { border-left: 4px solid #dc3545; }

.genres {
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
}

.genre-tag {
  background: #e9ecef;
  padding: 0.2rem 0.5rem;
  border-radius: 12px;
  font-size: 0.8rem;
  color: #495057;
}
</style>

<h1>Sevilla Jam Sessions</h1>

<div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 1.5rem; margin: 2rem 0;">
  <h2 style="color: #856404; margin: 0 0 1rem 0; font-size: 1.2rem;">⚠️ Work in Progress</h2>
  <p style="margin: 0 0 1rem 0; color: #856404;">
    <strong>Important:</strong> We are currently compiling this information and there may be many inaccuracies, outdated schedules, or missing details. Venue information, schedules, and contact details should be verified directly with each venue before visiting.
  </p>
  <p style="margin: 0; color: #856404;">
    <strong>Help us improve:</strong> If you have corrections, updates, or know of additional venues, please contact us at <a href="mailto:hello@rolihey.com" style="color: #856404; text-decoration: underline;">hello@rolihey.com</a>
  </p>
</div>

<p>Comprehensive guide to jam sessions and live music venues for musicians in Sevilla, Spain. Click on any venue to see full details.</p>

<div class="venue-grid">
<%
  # Read all venue files from the sevilla-jam-sessions directory
  venue_files = Dir.glob(File.join(root, 'source', 'sevilla-jam-sessions', '*.html.md'))
  venues = []

  venue_files.each do |file_path|
    content = File.read(file_path)

    # Parse front matter
    if content =~ /\A(---\s*\n.*?\n?)^(---\s*$\n?)/m
      front_matter = YAML.load($1)
      body_content = content.sub(/\A(---\s*\n.*?\n?)^(---\s*$\n?)/m, '').strip

      venues << {
        title: front_matter['title'],
        location: front_matter['location'],
        schedule: front_matter['usual_schedule'],
        genres: front_matter['genres'] || [],
        contact: front_matter['contact'],
        website: front_matter['website'],
        equipment: front_matter['available_equipment'] || [],
        tags: front_matter['tags'] || [],
        confidence: front_matter['confidence'] || 'unknown',
        sources: front_matter['sources'] || [],
        content: body_content
      }
    end
  end

  # Sort venues by title
  venues.sort_by! { |v| v[:title] }
%>

<% venues.each do |venue| %>
  <details class="venue-card confidence-<%= venue[:confidence] %>">
    <summary class="venue-summary">
      <h3><%= venue[:title] %></h3>
      <p class="venue-quick-info">
        <strong><%= venue[:schedule] %></strong>
        <% if venue[:genres].any? %>
          • <%= venue[:genres].first(3).join(', ') %><%= venue[:genres].length > 3 ? ', ...' : '' %>
        <% end %>
      </p>
    </summary>

    <div class="venue-details">
      <% if venue[:confidence] == 'medium' %>
        <div style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 0.75rem; margin-bottom: 1rem; font-size: 0.9rem;">
          <strong>⚠️ Medium Confidence:</strong> Some information may be incomplete or uncertain. Please verify details before visiting.
        </div>
      <% elsif venue[:confidence] == 'low' %>
        <div style="background: #f8d7da; border-left: 4px solid #dc3545; padding: 0.75rem; margin-bottom: 1rem; font-size: 0.9rem;">
          <strong>⚠️ Low Confidence:</strong> Information is uncertain or based on limited sources. Please verify all details before visiting.
        </div>
      <% end %>

      <dl class="venue-meta">
        <% if venue[:location] && !venue[:location].empty? %>
          <dt>Location:</dt>
          <dd><%= venue[:location] %></dd>
        <% end %>

        <% if venue[:schedule] && !venue[:schedule].empty? %>
          <dt>Schedule:</dt>
          <dd><%= venue[:schedule] %></dd>
        <% end %>

        <% if venue[:genres].any? %>
          <dt>Genres:</dt>
          <dd>
            <div class="genres">
              <% venue[:genres].each do |genre| %>
                <span class="genre-tag"><%= genre %></span>
              <% end %>
            </div>
          </dd>
        <% end %>

        <% if venue[:contact] && !venue[:contact].empty? %>
          <dt>Contact:</dt>
          <dd><%= venue[:contact] %></dd>
        <% end %>

        <% if venue[:website] && !venue[:website].empty? %>
          <dt>Website:</dt>
          <dd><a href="<%= venue[:website] %>" target="_blank"><%= venue[:website] %></a></dd>
        <% end %>

        <% if venue[:equipment].any? %>
          <dt>Equipment:</dt>
          <dd><%= venue[:equipment].join(', ') %></dd>
        <% end %>

        <dt>Confidence:</dt>
        <dd>
          <span style="text-transform: capitalize; color: <%= venue[:confidence] == 'high' ? '#28a745' : venue[:confidence] == 'medium' ? '#ffc107' : '#dc3545' %>">
            <%= venue[:confidence] %>
          </span>
        </dd>
      </dl>

      <div class="venue-content">
        <%= simple_format(venue[:content]) %>
      </div>

      <% if venue[:sources].any? %>
        <details style="margin-top: 1rem;">
          <summary style="font-size: 0.9rem; color: #666; cursor: pointer;">Sources (<%= venue[:sources].length %>)</summary>
          <ul style="margin: 0.5rem 0; padding-left: 1.5rem; font-size: 0.8rem;">
            <% venue[:sources].each do |source| %>
              <li>
                <% if source.start_with?('http') %>
                  <a href="<%= source %>" target="_blank"><%= source %></a>
                <% else %>
                  <%= source %>
                <% end %>
              </li>
            <% end %>
          </ul>
        </details>
      <% end %>
    </div>
  </details>
<% end %>
</div>

<p style="margin-top: 2rem; font-size: 0.9rem; color: #666;">
  <strong>Last updated:</strong> <%= Date.today.strftime('%B %d, %Y') %> •
  <strong>Total venues:</strong> <%= venues.length %>
</p>